import React,{useState,useEffect} from 'react';import axios from 'axios';export default function Messages(){const[messages,setMessages]=useState([]);const[text,setText]=useState('');const[name,setName]=useState('');const API=import.meta.env.VITE_API_BASE||'http://localhost:4000';async function load(){const res=await axios.get(API+'/api/messages');setMessages(res.data);}useEffect(()=>{load();},[]);async function submit(){await axios.post(API+'/api/messages',{name,text});setName('');setText('');load();}return(<div className='container'><h2>Birthday Messages</h2><div className='card'>{messages.map(m=>(<div key={m.id}><p><strong>{m.name}</strong>: {m.text}</p>{m.replies&&m.replies.map((r,i)=><p key={i} style={{marginLeft:20}}>â†³ <em>{r.name}</em>: {r.text}</p>)}</div>))}</div><div className='card'><input placeholder='Your Name' value={name} onChange={e=>setName(e.target.value)}/><textarea placeholder='Message' value={text} onChange={e=>setText(e.target.value)}/><button onClick={submit} className='btn'>Post</button></div></div>)}